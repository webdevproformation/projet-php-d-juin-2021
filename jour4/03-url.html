
presentation des requêtes SQL préparées

interroger une base de données MySQL 

outil 
visuel => phpMyAdmin  

via du code : saisissant des lignes de code => en PHP 
mysqli => fonction native de PHP qui permet de communiquer avec la base de données 

PDO() => class native de PHP de PHP qui permet de communiquer avec la base de données 
avantage => peut communiquer base de MySQL 
                                    => PostGre 
                                    => MariaDB
                                    => Oracle
                                    => MS Server ...


1 connexion 
    $connexion = new PDO("adresse_ou_est_stokee_la_base" , "login", "mot_de_passe");

2 connexion est établie => réaliser requête 
    $connexion->query("SQL");
    $requete = $connexion->prepare("SQL mais :variable"); éviter d'avoir des injections SQL 
                            // arriver à exécuter des requêtes SQL non voulu par le développeur 
                            // supprimer les tables / modifier login / mot de passe 
                            // récupérer les logins et password ... 

    1; => 1 ; UPDATE users SET password = 1234 ;

    $requete->execute( ["variable" => "1" ])

3 récupérer des données et les afficher dans notre site internet 
    $requete->fetch(); // une seule ligne dans le site internet
    $requete->fetchAll(PDO::FETCH_OBJ); // tableau qui contient toutes les lignes qui correspondent à requête SQL
                // Collection => [new stdClass(), new stdClass(), new stdClass()] .. 


// si vous mettez dans la balise html <a href="accueil/index">Accueil</a> => adresse relative

http://localhost/projet-php/tp/ => OK accueil
http://localhost/projet-php/tp/article/view/1 => OK lire la suite article 1

http://localhost/projet-php/tp/article/view/accueil/index => accueil dans la menu 

http://localhost/projet-php/tp/article/view/accueil/accueil/index => KO 

http://localhost/projet-php/tp/article/view/accueil/accueil/accueil/index => KO

Attention avec les adresses RELATIVES => elles se cumulent 
pour éviter ce genre de problème => ajouter l'adresse ABSOLUE de la page 

variable => CONSTANTE WWW => dans le fichier index.php racine de projet 